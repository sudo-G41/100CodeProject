# 백준[14719](https://www.acmicpc.net/problem/14719)번
## 문제
2차원 세계에 블록이 쌓여있다. 비가 오면 블록 사이에 빗물이 고인다.

비는 충분히 많이 온다. 고이는 빗물의 총량은 얼마일까?

## 입력
첫 번째 줄에는 2차원 세계의 세로 길이 H과 2차원 세계의 가로 길이 W가 주어진다. (1 ≤ H, W ≤ 500)

두 번째 줄에는 블록이 쌓인 높이를 의미하는 0이상 H이하의 정수가 2차원 세계의 맨 왼쪽 위치부터 차례대로 W개 주어진다.

따라서 블록 내부의 빈 공간이 생길 수 없다. 또 2차원 세계의 바닥은 항상 막혀있다고 가정하여도 좋다.

## 출력
2차원 세계에서는 한 칸의 용량은 1이다. 고이는 빗물의 총량을 출력하여라.

빗물이 전혀 고이지 않을 경우 0을 출력하여라.

## 내 풀이
높이와 인덱스를 저장한뒤 가장 높은 블럭부터 자기 이상의 높이를 가지는 블럭중 가장 오른쪽과 가장 왼쪽 블럭을 찾는다.  
그 뒤 둘을 포함한 그 사이의 오른쪽과 왼쪽 만큼의 블럭에 비가 왔다 하면 그 사이에 자기 이상의 높이의 블럭들이 다 들어가서 자기 이상의 높이를 가지는 블럭들은 비를 담을 수 없을 것이다.  
예를 들면 
 
|인덱스 번호|0|1|2|3|
|-|-|-|-|-|
| |1|0|0|1|
| |1|0|1|1|


이라 하면 높이 2일때 오른쪽은 3번 왼쪽은 0번이고 둘을 포함한 그사이는 0~3이 되며 이때 0번 인덱스와 3번 인덱스는 블럭이 있어서 그 둘을 제외하고 나머지는 비가 찰 것이다.  
1번 높이에서 보면 오른쪽 3 왼쪽 0이며 그 사이에 0,2,3번에 블록이 있어서 1번에만 비가 찰 것이다.  
이때 0과 3은 이미 높이 2에서 찾았으니 1인 2번만 제외하는 블록에 추가하면 되므로 이를 표현하자면

    총 블록 수 += 현재 높이의 블록 수
    비가 차는 블록 수 = 오른쪽 번호 - 왼쪽 번호 + 1 - 총 블록 수

가 되며 이를 반복하여 가장 낮은 블록까지 한다.  
이때 높이가 예를들어 4다음 1로 간다면 4와 1만 그려질 것이으모 4에서 3과 2를 포함해서 계산해준다. 즉

    총 블록 수 += 현재 높이의 블록 수
    비가 차는 블록 수 = (오른쪽 번호 - 왼쪽 번호 + 1 - 총 블록 수) * (현재 높이-다음 높이)
    전체 비가 차는 블록 수 += 비가 차는 블록 수

가 될 것이다.

## 구현([전체 코드 파일](./c.py))
``` python
def solution():
    h,w = map(int, input().strip().split())
    if(w == 0):
        print(0)
        return
    b = []
    hdict = {}
    for idx, hmax in enumerate(list(map(int, input().strip().split()))):
        b.append([0 if hmax <= nowh else 1 for nowh in range(h)])
        if(hmax in hdict):
            hdict[hmax].append(idx)
        else:
            hdict[hmax] = [idx]
    hdict = sorted(hdict.items(), reverse = True)
    l,r = w,-1
    count = 0
    sum = 0
    add = 0
    for idx, dic in enumerate(hdict):
        if(idx == len(hdict)-1):
            break
        l, r = min(l,dic[1][0]), max(r,dic[1][-1])
        count += len(dic[1])
        if(l!=r):
            add = r-l-count+1
            sum += add*(dic[0] - hdict[idx+1][0])
    print(sum)
```

## 잡담
내 풀이는 정해가 아니가  
그렇다 아니다. 나는 가로로 풀었다면 사람들은 세로로 풀더라 이말이다..  
그리고 난 C++ 충격적인 코드를 봤기 때문에 그냥 여기서 그만둘 것이다..